/**
 * Created by Phil on 2016-02-11.
 */
var tableau = require('../tableau/tableau');

module.exports = {
    toArray: function(jsonVar){
        conversionJason(jsonVar);
    }
};

function conversionJason(jV){
    var t = [];
    var s = [];
    var l = [];

    s.push(jV.partie.stats[0].nbEquipes[0]);
    s.push(jV.partie.stats[0].nbPlanchettes[0]);
    s.push(jV.partie.stats[0].nbRondes[0]);
    s.push(jV.partie.stats[0].score[0]);
    s.push(jV.partie.stats[0].phantome[0]);
    s.push(jV.partie.stats[0].fini[0]);

    tableau.ecrirePartie(s);

    t.push(jV.partie.feuille[0].noms[0].nom1[0].nom);
    t.push(jV.partie.feuille[0].noms[0].nom2[0].nom);
    t.push(jV.partie.feuille[0].equipes[0].equipe);
    for (j = 0; j < jV.partie.feuille[0].jeux[0].jeu.length; j++) {
        l.push(jV.partie.feuille[0].jeux[0].jeu[j].planchette[0]);
        for (i = 0; i < jV.partie.feuille[0].jeux[0].jeu[j].score.length; i++) {
            l.push(jV.partie.feuille[0].jeux[0].jeu[j].score[i]);
        }
        t.push(l);
        l = [];
    }
    tableau.ecrireTableau(t);
}