/**
 * Created by Phil on 2017-09-20.
 */

var gestion = require('../gestionPartie/gestionPartie');

module.exports = {
    retourneNomsJoueurs: function(indexPartie){
        var infoTable = {
            indexPartie : indexPartie
        };
        var nbE = gestion.retourneNbEquipes(infoTable);
        var nbP = gestion.retourneNbPlanchettes(infoTable);
        var i = 0;
        var j = 0;
        var total = 0;
        var score = 0;
        var htmlString = '';
        var couleurSpan = 'divCouleurResult';
        //var couleurSpan = 'spanBlue';
        for(i = 0; i < nbE; i++) {
            htmlString += '<div class="dResultEquipe"><div class="dNomsResultat">'
                +'<span>'+gestion.retourneNomsEquipe(infoTable, i)[0]+'<span class="spanBlue"> et </span>'
                +gestion.retourneNomsEquipe(infoTable, i)[1]+'</span>'
                + '</div>';
            for(j = 0; j < nbP; j++) {
                score = gestion.retourneScoreEquipe(infoTable, i, j);
                total += score;
                htmlString += '<div class="dPointage">' +
                    '<div class="divNoPl">'+(j+1)+'</div>';
                /*if(score == 0){
                    couleurSpan = "spanRed";
                }*/

                htmlString += '<div class="'+ couleurSpan +'">' + gestion.retourneScoreEquipe(infoTable, i, j) + '</div>'+
                    '</div>'
            }
            htmlString += '<div class="dTotal">' +
                '<span>Total : ' + total + '</span>'+
                '</div></div>';
            total = 0;
            //htmlString += '</div>'
        }
        return htmlString;
        //console.log(nbE);
    }
};


